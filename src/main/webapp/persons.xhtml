<!DOCTYPE html>
<ui:composition template="/templates/layout.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

    <ui:define name="title">Personen erfassen</ui:define>

    <ui:define name="content">
	    <h2>Personen erfassen</h2>
	
	    <h:form id="personForm">
	        <h:messages globalOnly="true" style="color:red;" />
	
	        <h:panelGrid columns="2" columnClasses="label,value" style="margin-bottom:15px;">
	            <h:outputLabel value="Name:" for="name"/>
	            <h:inputText id="name" value="#{personBean.person.name}" required="true"/>
	
	            <h:outputLabel value="Rolle:" for="role"/>
	            <h:inputText id="role" value="#{personBean.person.role}" required="true"/>
	        </h:panelGrid>
	
	        <p:commandButton value="Speichern" icon="pi pi-save" action="#{personBean.save}" update="personTable personForm" process="@form"/>
	    </h:form>
	
	    <h3>Alle Personen:</h3>
	    <p:dataTable id="personTable" value="#{personBean.allPersons}" var="p" paginator="true" rows="10" style="margin-top:15px;">
	        <p:column headerText="ID">#{p.id}</p:column>
	        <p:column headerText="Name">#{p.name}</p:column>
	        <p:column headerText="Rolle">#{p.role}</p:column>
	    </p:dataTable>
	</ui:define>
</ui:composition>
