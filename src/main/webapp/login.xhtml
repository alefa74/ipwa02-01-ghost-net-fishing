<!DOCTYPE html>
<ui:composition template="/templates/layout.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <!-- View-Parameter für Redirect nach Login -->
   	<f:metadata>
   		<f:viewParam name="redirectTo" value="#{loginBean.redirectTo}" />
   	</f:metadata>
   	
    <!-- Seitentitel -->
    <ui:define name="title">Login</ui:define>

    <ui:define name="content">

        <div class="page-container">
            <!-- Überschrift -->
            <h2 class="page-title">Login für Bergende Personen</h2>

			<!-- Begleittext -->
			<p class="page-intro">
			    Bitte melden Sie sich an, um Zugriff auf alle Funktionen für Bergende Personen zu erhalten. 
			    Nach dem Login können Sie ein vollständiges Überblick über alle gemeldeten Geisternetze einsehen.
			    Sie können sich für die Bergung von einem oder mehreren Netzen anmelden und so aktiv bei der Bergung mitwirken.
			</p>
			
			<p style="margin-bottom: 20px;">
			    Außerdem können Sie angeben, wenn Sie Netze tatsächlich geborgen haben. 
			    Diese Angaben helfen uns, den Status der Netze aktuell zu halten und unterstützen den Schutz der Umwelt.
			</p>

            <!-- Growl für Fehlermeldungen -->
            <p:growl id="growl" showDetail="true" life="3500"/>

             <!-- Login-Formular -->
            <h:form id="loginForm">
                <h:panelGrid columns="2" cellpadding="5" columnClasses="label-column, input-column">

                    <p:outputLabel value="Vorname" for="firstName"/>
                    <p:inputText id="firstName" value="#{loginBean.firstName}" required="true"
                                 requiredMessage="Vorname erforderlich"/>

                    <p:outputLabel value="Nachname" for="lastName"/>
                    <p:inputText id="lastName" value="#{loginBean.lastName}" required="true"
                                 requiredMessage="Nachname erforderlich"/>

                    <p:outputLabel value="Telefonnummer" for="phone"/>
                    <p:inputText id="phone" value="#{loginBean.phone}" required="true"
                                 requiredMessage="Telefonnummer erforderlich">
					    <f:validator validatorId="phoneValidator" />
					</p:inputText>

                    <h:outputText/>
                    <p:commandButton value="Login" action="#{loginBean.login}" update="growl" icon="pi pi-sign-in"/>
                </h:panelGrid>
            </h:form>

        </div>

    </ui:define>
</ui:composition>
