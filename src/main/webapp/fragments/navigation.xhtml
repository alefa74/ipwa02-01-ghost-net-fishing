<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

	<!-- Navigationsbereich der Anwendung mit Menüs für alle Hauptfunktionen -->
	<h:form id="navForm">	
		<div class="nav-container">
			<!-- Linke Hauptnavigation mit den Kernfunktionen -->
			<p:menubar styleClass="nav-left">
			    <p:menuitem value="Startseite" outcome="/index" icon="pi pi-home"/>
			
			    <p:menuitem value="Netze erfassen" outcome="/netzmelden" icon="pi pi-plus-circle"/>
			    
			    <p:menuitem value="Netze ansehen" outcome="/bergung" icon="pi pi-search"/>

			    <p:menuitem value="Bergung zuweisen" outcome="/zuweisen" icon="pi pi-user-plus"/>

			    <p:menuitem value="Bergung eintragen" outcome="/geborgen" icon="pi pi-check-circle"/>

			    <p:menuitem value="Netze verschollen" outcome="/verschollen" icon="pi pi-times-circle"/>
			</p:menubar>

			<!-- Benutzerbereich: zeigt Login-Status und zugehörige Aktionen -->
			<p:menubar styleClass="nav-right">
				<p:submenu label="#{loginBean.loggedIn ? loginBean.fullName : 'Anonym'}" icon="pi pi-user">
					<!-- Anzeige des eingeloggten Benutzers oder 'Anonym' -->
	   			    <p:menuitem value="Abmelden" 
	   			    			icon="pi pi-sign-out" 
	   			    			action="#{loginBean.logout}" 
	   			    			ajax="false"
				                rendered="#{loginBean.loggedIn}" />
				    
					<!-- Login-Link mit Rücksprung zur aktuellen Seite nach erfolgreichem Login -->
				    <p:menuitem value="Login" 
				    			icon="pi pi-sign-in" 
				    			outcome="/login" 
				                rendered="#{!loginBean.loggedIn}">
				    	<f:param name="redirectTo" value="#{request.requestURI.substring(request.contextPath.length())}" />
				    </p:menuitem>
				</p:submenu>
			</p:menubar>

            <!-- Hamburger menu für mobile Ansicht -->
            <p:commandButton styleClass="hamburgerMenu" id="hamburgerMenu" value="Menu" type="button" icon="pi pi-bars" />
            <p:menu overlay="true" trigger="hamburgerMenu" my="left top" at="left bottom">
			    <p:menuitem value="Startseite" outcome="/index" icon="pi pi-home"/>
			
			    <p:menuitem value="Netze erfassen" outcome="/netzmelden" icon="pi pi-plus-circle"/>
			    
			    <p:menuitem value="Netzen ansehen" outcome="/bergung" icon="pi pi-search"/>

			    <p:menuitem value="Bergung zuweisen" outcome="/zuweisen" icon="pi pi-user-plus"/>

			    <p:menuitem value="Bergung eintragen" outcome="/geborgen" icon="pi pi-check-circle"/>

			    <p:menuitem value="Netze verschollen" outcome="/verschollen" icon="pi pi-times-circle"/>

                <p:separator />

   			    <p:menuitem value="Abmelden" 
   			    			icon="pi pi-sign-out" 
   			    			action="#{loginBean.logout}" 
   			    			ajax="false"
			                rendered="#{loginBean.loggedIn}" />
			    
				<!-- Login-Link mit Rücksprung zur aktuellen Seite nach erfolgreichem Login -->
			    <p:menuitem value="Login" 
			    			icon="pi pi-sign-in" 
			    			outcome="/login" 
			                rendered="#{!loginBean.loggedIn}">
			    	<f:param name="redirectTo" value="#{request.requestURI.substring(request.contextPath.length())}" />
			    </p:menuitem>
            </p:menu>
        </div>
	</h:form>


</ui:composition>
